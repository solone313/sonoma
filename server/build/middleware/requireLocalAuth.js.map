{"version":3,"file":"requireLocalAuth.js","names":["_passport","_interopRequireDefault","require","obj","__esModule","default","requireLocalAuth","req","res","next","passport","authenticate","err","user","info","status","send","_default","exports"],"sources":["../../src/middleware/requireLocalAuth.js"],"sourcesContent":["import passport from 'passport';\n\nconst requireLocalAuth = (req, res, next) => {\n  passport.authenticate('local', (err, user, info) => {\n    if (err) {\n      return next(err);\n    }\n    if (!user) {\n      return res.status(422).send(info);\n    }\n    req.user = user;\n    next();\n  })(req, res, next);\n};\n\nexport default requireLocalAuth;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,gBAAgB,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC3CC,iBAAQ,CAACC,YAAY,CAAC,OAAO,EAAE,CAACC,GAAG,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAClD,IAAIF,GAAG,EAAE;MACP,OAAOH,IAAI,CAACG,GAAG,CAAC;IAClB;IACA,IAAI,CAACC,IAAI,EAAE;MACT,OAAOL,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACF,IAAI,CAAC;IACnC;IACAP,GAAG,CAACM,IAAI,GAAGA,IAAI;IACfJ,IAAI,EAAE;EACR,CAAC,CAAC,CAACF,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC;AACpB,CAAC;AAAC,IAAAQ,QAAA,GAEaX,gBAAgB;AAAAY,OAAA,CAAAb,OAAA,GAAAY,QAAA"}